<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC 
 "-//Hibernate/Hibernate Mapping DTD//EN"
 "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd"> 

<hibernate-mapping>
    <class name="cz.cuni.mff.ufal.textan.data.tables.JoinedObjectsTable" table="JoinedObjects">
        <meta attribute="class-description">
            Table that is able to cover joining two objects into one
        </meta>
        <id 
            name="id" 
            column="id_new_object"
            >
            <generator class="foreign">
                <param name="property">newObject</param>
            </generator>
        </id>  
        <property name="from" column="from_date" type="date"></property>
        <property name="to" column="to_date" type="date"/>
        <many-to-one name="newObject" class="cz.cuni.mff.ufal.textan.data.tables.ObjectTable" 
                     insert="false" update="false" unique="true"
                     column="id_new_object" not-null="true" lazy="false" cascade="save-update" />
        <many-to-one name="oldObject1" class="cz.cuni.mff.ufal.textan.data.tables.ObjectTable" 
                     column="id_old_object1" not-null="true" lazy="false" cascade="save-update" />
        <many-to-one name="oldObject2" class="cz.cuni.mff.ufal.textan.data.tables.ObjectTable" 
                     column="id_old_object2" not-null="true" lazy="false" cascade="save-update" />
    </class>
    
</hibernate-mapping>
